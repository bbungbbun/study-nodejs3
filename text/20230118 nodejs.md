20230118 nodejs.md

# promise
[promise와 async await 으로 비동기 최적화](https://youtu.be/dchFLwlpI-c)
- promise가 수행하는 동작이 끝남과 동시에 상태를 알려줌
- 비동기 처리에 효과적

```
const fs = require("fs").promises
fs.readFile("파일 경로")
```
- fs의 메소드들은 promise를 반환함

```
console.log(fs.readFile("파일 경로")); 
// Promise {<pending>} 출력
```
- `pending` 데이터를 전부 읽어오지 못했다는 뜻이다.

```
.catch((err)=>console.error(err));
// .catch(console.error); 줄여서 표시 가능
```

```
await UserStorage.getUserInfo(client.id);
```
- promise를 반환하는 것만 `await` 사용가능
- 추가로 `await`은 `async` 함수에서만 사용가능


# 파일 DB로 회원가입 구현
[파일 DB로 회원가입 구현](https://youtu.be/myi7ZrKkf2o)

```
static save(userInfo){
    const data = "a"
    fs.writeFile("파일경로", data);
}
```
- 이렇게 작성할 경우 `data`변수안에 있는 내용으로만 덮어씌워진다.


# JSON Pretty Printer
[파일 DB로 회원가입 구현](https://youtu.be/myi7ZrKkf2o)

- json 파일을 보기 좋게 만들어 주는 vscode extension

## 사용법
- vscode 창 왼쪽 탭의 가장 하단에 있는 extension 탭을 누른다.
- `JSON Pretty Printer` 검색 후 다운로드한다.
- `ctrl + shift + p` 누르면 extension을 검색할 수 있는 창이 뜬다.
- `JSON Pretty Print` 검색 후 사용한다.

### 단축키 지정
- `ctrl + shift + p`을 눌러 `JSON Pretty Print`를 찾는다.
- 설정 버튼을 클릭한다.
- 리스트에 있는 `JSON Pretty Print`의 더블 클릭한다.
- 단축키를 지정하라는 창이 뜨면 원하는 단축키를 눌러 설정한다.